{
  "scopeName": "source.github-actions-workflow.injection",
  "injectionSelector": "L:source.github-actions-workflow -comment -string",
  "patterns": [
    {      
      "begin": "(?i)(?<=run: )(?:(\\|)|(>))([1-9])?([-+])?(.*\\s*)$",
      "beginCaptures": {
        "1": {
          "name": "keyword.control.flow.block-scalar.literal.yaml"
        },
        "2": {
          "name": "keyword.control.flow.block-scalar.folded.yaml"
        },
        "3": {
          "name": "constant.numeric.indentation-indicator.yaml"
        },
        "4": {
          "name": "storage.modifier.chomping-indicator.yaml"
        },
        "5": {
          "name": "entity.name.type.yaml"
        }
      },
      "end": "^(?=\\S)|(?!\\G)",
      "patterns": [
        {
          "begin": "(?>^|\\G)([ ]+)(?! )",
          "end": "^(?!\\1|\\s*$)",
          "name": "meta.embedded.inline.shell",
          "patterns": [
            {
              "include": "source.shell"
            },
            {
              "begin": "\\G[ \\t]*+(?!(?>nocorrect|function|foreach|repeat|logout|coproc|select|while|pushd|until|case|done|elif|else|esac|popd|then|time|for|end|fi|do|in|if)\\W)",
              "end": "(?<!\\\\)(?=[];|&\n)`{}]|[ \t]*+#)",
              "name": "meta.statement.shell",
              "patterns": [ { "include": "source.shell#typical_statements" } ]
            }
          ]
        }
      ]
    }
  ]
}
